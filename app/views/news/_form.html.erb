<div id="page-yield">

  <% unless flash[:notice].nil? %> <p class="flash-msg"> <%= flash[:notice] %> </p> <% end %>
    <%= form_for(@news, :url => topic_news_index_path(@topic), :html=> {:multipart=>true}) do |f| %>
  <div id="create_user_form">

      <div id="add_news_form">
      <div class="news_label_field">
        <label for="title"><%= "Title" %></label>
        <div id="news_content_text_field_bg"><%= cktext_area :news, :title, :cols => 40, :ckeditor => {:uiColor => '#AADC6E', :toolbar => 'mini'} %></div>
      </div>
      <div class="news_label_field">
        <label for="news_content"><%= "Content" %></label>
        <div id="news_content_text_field_bg"><%= cktext_area :news, :content, :cols => 40, :ckeditor => {:uiColor => '#AADC6E', :toolbar => 'mini'} %></div>
      </div>
    </div>
    <div class="label-field-pair">
          <label for="master_student_date_of_birth"><%= "Publish Date" %><span class="necessary-field">*</span></label>
          <div class="text-input-bg">
            <%= f.calendar_date_select :date %>
          </div>
        </div>
        <div class="label-field-pair">
          <% if @topic.video == true %>
            <label for="student_image_file"><%= t('upload_video') %></label>
            <div class="text-input-bg"><%= f.text_field :link, class: 'form-control', required: true %></div>
          <% else %>
            <label for="student_image_file"><%= t('upload_photo') %></label>
            <div class="text-input-bg"><%= f.file_field :icon_image%></div>
          <% end %>
        </div>


      <div class="extender"></div>

      <%= submit_tag "", :value => "Create News", :class => "user_submit_button" %>
      
    </div>

  <% end  %>
<script type="text/javascript">

CKEDITOR.editorConfig = function( config )
{
    config.toolbar_MyToolbar =
    [
        { name: 'document', items : [ 'NewPage','Preview' ] },
        { name: 'clipboard', items : [ 'Cut','Copy','Paste','PasteText','PasteFromWord','-','Undo','Redo' ] },
        { name: 'editing', items : [ 'Find','Replace','-','SelectAll','-','Scayt' ] },
        { name: 'insert', items : [ 'Image','Flash','Table','HorizontalRule','Smiley','SpecialChar','PageBreak'
                 ,'Iframe' ] },
                '/',
        { name: 'styles', items : [ 'Styles','Format' ] },
        { name: 'basicstyles', items : [ 'Bold','Italic','Strike','-','RemoveFormat' ] },
        { name: 'paragraph', items : [ 'NumberedList','BulletedList','-','Outdent','Indent','-','Blockquote' ] },
        { name: 'links', items : [ 'Link','Unlink','Anchor' ] },
        { name: 'tools', items : [ 'Maximize','-','About' ] }
    ];
}
</script>